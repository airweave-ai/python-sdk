# This file was auto-generated by Fern from our API Definition.

import typing

import pydantic
from ..core.pydantic_utilities import IS_PYDANTIC_V2, UniversalBaseModel
from .agentic_search_filter_group import AgenticSearchFilterGroup
from .agentic_search_mode import AgenticSearchMode


class AgenticSearchRequest(UniversalBaseModel):
    """
    Request schema for agentic search.
    """

    query: str = pydantic.Field()
    """
    The natural language search query.
    """

    filter: typing.Optional[typing.List[AgenticSearchFilterGroup]] = pydantic.Field(default=None)
    """
    Filter groups that are always applied to search results. Conditions within a group are combined with AND. Multiple groups are combined with OR. Leave empty for no filtering.
    """

    mode: typing.Optional[AgenticSearchMode] = pydantic.Field(default=None)
    """
    The search mode. 'fast' performs a single search pass. 'thinking' performs an intelligent multi-step search to find the best results (may take longer). Defaults to 'thinking'.
    """

    limit: typing.Optional[int] = pydantic.Field(default=None)
    """
    Maximum number of results to return. The response will contain at most this many results, but the agent can decide to return fewer. When not set, all results are returned.
    """

    if IS_PYDANTIC_V2:
        model_config: typing.ClassVar[pydantic.ConfigDict] = pydantic.ConfigDict(extra="allow", frozen=True)  # type: ignore # Pydantic v2
    else:

        class Config:
            frozen = True
            smart_union = True
            extra = pydantic.Extra.allow
